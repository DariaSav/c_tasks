В данном задании был исправлен (с сохранением методов и семантики) предоставленный код так, чтобы он компилировался и не было утечки памяти. 

Поскольку конструкторы структуры являются private, получение shared_ptr указателя было заменено на явное выделение памяти. Также тип parent указателя изменен с shared_ptr на weak_ptr, для избежания цикличных ссылок. 

Потенциальным решением также могло бы быть добавление деструктора, однако это запрещено формулировкой задания.
